<!DOCTYPE html>
<html>

<head>
    <title>Projet 1 WEB</title>
    <link href='https://fonts.googleapis.com/css?family=Montserrat' rel='stylesheet'>
    <link href='https://fonts.googleapis.com/css?family=Crimson Text' rel='stylesheet'>
    <link rel="stylesheet" href="style.css">
</head>

<div id="overlay" class="overlay hidden">
    <div class="modal">
        <button class="close-button">&times;</button>

        <div class="modal-content">
            <div class="modal-chart">
                <canvas id="modalCanvas"></canvas>
            </div>

            <div class="modal-text" id="modalText"></div>
        </div>
    </div>
</div>

<body>
    <header>
        <div id="title">dashboard</div>
        <nav>
            <a href="#page1" class="active">Page 1</a>
            <a href="#page2">Page 2</a>
        </nav>
    </header>
    <main>
        <section id="page1" class="dashboard-section">
            <div class="chart-container">
                <div class="chart chart-clickable"
                    data-desc="Ce graphe représente le nombre de personnes décédées ou sorties vivantes des hôpitaux en France, en fonction de leur âge, entre 2020 et 2023.">
                    <h2>Impact de l'age sur la mortalité du virus</h2>
                    <canvas id="Chart1_1"></canvas>
                </div>
                <div class="chart chart-clickable" data-desc="Description du graphe 1_2">
                    <h2>GUH 1_2</h2>
                    <canvas id="Chart1_2"></canvas>
                </div>
            </div>
        </section>

        <section id="page2" class="dashboard-section">
            <div class="chart-container">
                <div class="chart chart-clickable"
                    data-desc="Ce graphe compare l'impact du Covid-19 selon le sexe, en distinguant les décès des survivants. La mortalité est visiblement plus élevée chez les hommes (approchant les 80 000 décès) que chez les femmes. D'après l'Ined, cela pourrait venir d’un plus grand risque pour les hommes d’être contaminés, du fait de leurs comportements – moindre respect des gestes barrière, plus grande interaction sociale, moins de télétravail – et aussi de comorbidités (hypertension, diabète), plus fréquentes chez eux à partir de la cinquantaine.">
                    <h2>Impact du sexe sur la mortalité du virus</h2>
                    <canvas id="Chart2_1"></canvas>
                </div>
                <div class="chart chart-clickable" data-desc="Description du graphe 2_2">
                    <h2>GUH 2_2</h2>
                    <canvas id="Chart2_2"></canvas>
                </div>
            </div>
        </section>
    </main>
    <script>
        const sections = document.querySelectorAll('.dashboard-section');
        const navLinks = document.querySelectorAll('nav a');

        const observer = new IntersectionObserver(
            entries => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const id = entry.target.getAttribute('id');

                        navLinks.forEach(link => {
                            link.classList.toggle(
                                'active',
                                link.getAttribute('href') === `#${id}`
                            );
                        });
                    }
                });
            },
            {
                threshold: 0.9
            }
        );

        sections.forEach(section => observer.observe(section));
    </script>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="Chart1_1.js"></script>
    <script src="Chart2_1.js"></script>
    <script src="Popup.js"></script>
</body>

</html>